<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Purple-Juice-4073 â€” NSFW Voice Artist Audio Masterlist. 18+ Only.">
    <meta name="theme-color" content="#6d28d9">
    <title>Purple-Juice-4073 | Audio Masterlist</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;500;600;700;800&family=Zen+Kaku+Gothic+New:wght@300;400;500;700&family=Noto+Serif+JP:wght@300;400;600&family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/opendyslexic" rel="stylesheet">

    <style>
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       CSS VARIABLES
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    :root {
        --ink:            #0a0712;
        --void:           #120d1f;
        --abyss:          #1c1030;
        --shadow-plum:    #2d1b52;
        --deep-violet:    #4a1fa8;
        --royal-purple:   #6d28d9;
        --amethyst:       #8b5cf6;
        --wisteria:       #a78bfa;
        --lavender:       #c4b5fd;
        --pale-lilac:     #ddd6fe;
        --moonmist:       #ede9fe;
        --petal-white:    #faf8ff;
        --snow:           #ffffff;

        --glow-deep:  rgba(109,40,217,0.55);
        --glow-soft:  rgba(167,139,250,0.35);
        --glow-petal: rgba(196,181,253,0.15);

        --font-display: 'Shippori Mincho', serif;
        --font-body:    'Zen Kaku Gothic New', sans-serif;
        --font-accent:  'Noto Serif JP', serif;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESET
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    *, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }
    html { scroll-behavior: smooth; }

    body {
        font-family: var(--font-body);
        background: var(--ink);
        color: var(--pale-lilac);
        min-height: 100vh;
        overflow-x: hidden;
    }

    /* Font overrides (accessibility) */
    body.font-arial    { font-family: Arial, sans-serif !important; }
    body.font-times    { font-family: 'Times New Roman', serif !important; }
    body.font-atkinson { font-family: 'Atkinson Hyperlegible', sans-serif !important; }
    body.font-dyslexic { font-family: 'OpenDyslexic', sans-serif !important; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       BACKGROUND
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .geo-bg {
        position: fixed; inset: 0; z-index: -3;
        background: linear-gradient(160deg, var(--abyss) 0%, var(--void) 40%, var(--ink) 100%);
    }
    .geo-canvas { position: fixed; inset: 0; z-index: -2; opacity: 0.55; pointer-events: none; }
    .sakura-container { position: fixed; inset: 0; z-index: -1; pointer-events: none; overflow: hidden; }
    .petal {
        position: absolute; top: -30px; opacity: 0;
        animation: petalFall linear infinite;
        border-radius: 50% 0 50% 0;
    }
    @keyframes petalFall {
        0%   { opacity:0; transform:translateY(0) rotate(0deg) scale(0.8); }
        8%   { opacity:0.6; }
        92%  { opacity:0.35; }
        100% { opacity:0; transform:translateY(108vh) rotate(720deg) scale(1.1) translateX(60px); }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       AGE GATE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .age-overlay {
        position: fixed; inset: 0; z-index: 9999;
        background: rgba(10,7,18,0.98);
        display: flex; align-items: center; justify-content: center;
        backdrop-filter: blur(14px);
    }
    .age-overlay.hidden { display: none; }
    .age-modal {
        background: linear-gradient(145deg,rgba(45,27,82,0.96),rgba(18,13,31,0.99));
        border: 1px solid rgba(139,92,246,0.4);
        border-radius: 28px; padding: 3.5rem 3rem;
        max-width: 460px; width: 92%; text-align: center;
        box-shadow: 0 0 0 1px rgba(196,181,253,0.1),0 0 80px rgba(109,40,217,0.4),0 30px 80px rgba(0,0,0,0.6);
        animation: modalIn 0.45s cubic-bezier(0.34,1.56,0.64,1) forwards;
    }
    @keyframes modalIn {
        from { opacity:0; transform:scale(0.85) translateY(30px); }
        to   { opacity:1; transform:scale(1) translateY(0); }
    }
    .age-kamon { font-size:3rem; margin-bottom:1rem; filter:drop-shadow(0 0 14px rgba(167,139,250,0.8)); }
    .age-subtitle { font-family:var(--font-accent); font-size:0.72rem; letter-spacing:0.35em; color:var(--wisteria); margin-bottom:1rem; text-transform:uppercase; }
    .age-modal h2 { font-family:var(--font-display); font-size:2rem; font-weight:700; color:var(--petal-white); margin-bottom:0.4rem; }
    .age-divider { width:60px; height:1px; background:linear-gradient(90deg,transparent,var(--amethyst),transparent); margin:1.2rem auto 1.8rem; }
    .age-modal p { font-size:0.95rem; line-height:1.8; color:var(--lavender); margin-bottom:2rem; }
    .age-modal p strong { color:var(--wisteria); }
    .age-buttons { display:flex; gap:1rem; justify-content:center; }
    .btn-proceed {
        padding:0.85rem 2.5rem; background:linear-gradient(135deg,var(--royal-purple),var(--amethyst));
        color:var(--snow); border:none; border-radius:40px;
        font-family:var(--font-body); font-size:0.95rem; font-weight:700; letter-spacing:0.08em;
        cursor:pointer; transition:all 0.3s; box-shadow:0 0 25px rgba(109,40,217,0.5);
    }
    .btn-proceed:hover { transform:translateY(-3px); box-shadow:0 0 45px rgba(139,92,246,0.7); }
    .btn-leave {
        padding:0.85rem 2rem; background:transparent; color:var(--lavender);
        border:1px solid rgba(139,92,246,0.35); border-radius:40px;
        font-family:var(--font-body); font-size:0.95rem; cursor:pointer; transition:all 0.3s;
    }
    .btn-leave:hover { border-color:var(--amethyst); background:rgba(139,92,246,0.12); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       HEADER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    header {
        padding: 1.4rem 2.5rem;
        border-bottom: 1px solid rgba(139,92,246,0.2);
        backdrop-filter: blur(16px);
        background: rgba(10,7,18,0.82);
        position: sticky; top: 0; z-index: 200;
    }
    .header-content {
        max-width: 1800px; margin: 0 auto;
        display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 1.2rem;
    }
    .logo { display:flex; align-items:center; gap:1rem; text-decoration:none; }
    .logo-icon {
        width:46px; height:46px;
        background:linear-gradient(135deg,var(--royal-purple),var(--wisteria));
        border-radius:12px; display:flex; align-items:center; justify-content:center; font-size:1.4rem;
        box-shadow:0 0 20px var(--glow-deep);
    }
    .logo-text { display:flex; flex-direction:column; }
    .logo-title {
        font-family:var(--font-display); font-size:1.35rem; font-weight:700;
        background:linear-gradient(135deg,var(--petal-white) 0%,var(--lavender) 50%,var(--wisteria) 100%);
        -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
        letter-spacing:0.04em; line-height:1.1;
    }
    .logo-sub { font-family:var(--font-accent); font-size:0.62rem; letter-spacing:0.28em; color:var(--amethyst); text-transform:uppercase; }
    .search-container { position:relative; width:100%; max-width:380px; }
    .search-icon { position:absolute; left:1.1rem; top:50%; transform:translateY(-50%); color:var(--amethyst); pointer-events:none; font-size:0.95rem; }
    .search-input {
        width:100%; padding:0.82rem 1.2rem 0.82rem 3rem;
        background:rgba(45,27,82,0.45); border:1px solid rgba(139,92,246,0.35);
        border-radius:50px; color:var(--petal-white); font-family:var(--font-body); font-size:0.9rem;
        transition:all 0.3s; outline:none;
    }
    .search-input::placeholder { color:rgba(196,181,253,0.45); }
    .search-input:focus { border-color:var(--amethyst); background:rgba(45,27,82,0.7); box-shadow:0 0 20px var(--glow-soft); }
    .header-right { display:flex; align-items:center; gap:0.75rem; flex-wrap:wrap; }
    .header-socials { display:flex; gap:0.45rem; }
    .social-icon {
        width:36px; height:36px; border-radius:50%;
        background:rgba(74,31,168,0.3); border:1px solid rgba(139,92,246,0.3);
        display:flex; align-items:center; justify-content:center;
        text-decoration:none; color:var(--lavender); font-size:1rem; transition:all 0.3s;
    }
    .social-icon:hover { background:linear-gradient(135deg,var(--deep-violet),var(--royal-purple)); border-color:var(--amethyst); color:var(--snow); transform:translateY(-3px); box-shadow:0 6px 20px var(--glow-deep); }
    .accessibility-btn {
        width:36px; height:36px; border-radius:50%;
        background:rgba(74,31,168,0.3); border:1px solid rgba(139,92,246,0.3);
        display:flex; align-items:center; justify-content:center;
        cursor:pointer; color:var(--lavender); font-size:0.82rem; font-weight:700;
        transition:all 0.3s; font-family:var(--font-body);
    }
    .accessibility-btn:hover { background:rgba(139,92,246,0.3); border-color:var(--amethyst); color:var(--snow); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MAIN LAYOUT
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .main-container { display:flex; max-width:1800px; margin:0 auto; padding:2rem; gap:2rem; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       SIDEBAR
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .sidebar { width:270px; flex-shrink:0; position:sticky; top:6rem; height:fit-content; }
    .nav-panel {
        background:linear-gradient(180deg,rgba(45,27,82,0.55) 0%,rgba(18,13,31,0.88) 100%);
        border:1px solid rgba(139,92,246,0.22); border-radius:20px; padding:1.5rem; backdrop-filter:blur(12px);
    }
    .nav-title { font-family:var(--font-accent); font-size:0.7rem; font-weight:600; color:var(--wisteria); letter-spacing:0.25em; text-transform:uppercase; margin-bottom:1.2rem; padding-bottom:0.8rem; border-bottom:1px solid rgba(139,92,246,0.18); }
    .nav-list { list-style:none; display:flex; flex-direction:column; gap:0.4rem; }
    .nav-item { padding:0.82rem 1.1rem; border-radius:12px; cursor:pointer; transition:all 0.25s; display:flex; align-items:center; gap:0.75rem; font-weight:500; color:var(--lavender); border:1px solid transparent; font-size:0.88rem; }
    .nav-item:hover { background:rgba(139,92,246,0.18); border-color:rgba(139,92,246,0.28); color:var(--petal-white); }
    .nav-item.active { background:linear-gradient(135deg,rgba(109,40,217,0.4),rgba(139,92,246,0.25)); border-color:var(--amethyst); color:var(--petal-white); box-shadow:0 0 15px var(--glow-soft); }
    .nav-icon { font-size:1.05rem; width:22px; text-align:center; flex-shrink:0; }
    .nav-count { margin-left:auto; background:rgba(109,40,217,0.4); padding:0.15rem 0.55rem; border-radius:20px; font-size:0.7rem; font-weight:600; color:var(--lavender); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       AUDIOS SECTION
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .audios-section { flex:1; min-width:0; }
    .section-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:1.5rem; flex-wrap:wrap; gap:1rem; }
    .section-title { font-family:var(--font-display); font-size:1.8rem; font-weight:700; color:var(--petal-white); display:flex; align-items:center; gap:0.75rem; }
    .section-title::before { content:''; width:4px; height:1.8rem; background:linear-gradient(180deg,var(--amethyst),var(--royal-purple)); border-radius:2px; }
    .section-controls { display:flex; align-items:center; gap:0.7rem; flex-wrap:wrap; }

    .sort-control { display:inline-flex; align-items:center; gap:0.45rem; }
    .sort-control label { color:var(--wisteria); font-size:0.8rem; font-weight:500; white-space:nowrap; }
    .sort-select {
        background:rgba(45,27,82,0.6); border:1px solid rgba(139,92,246,0.38);
        border-radius:25px; padding:0.52rem 1rem; color:var(--pale-lilac);
        font-family:var(--font-body); font-size:0.8rem; cursor:pointer; transition:all 0.3s; outline:none;
    }
    .sort-select:hover,.sort-select:focus { border-color:var(--amethyst); box-shadow:0 0 12px var(--glow-soft); }
    .sort-select option { background:var(--void); color:var(--pale-lilac); }

    .favorites-toggle {
        display:inline-flex; align-items:center; gap:0.4rem;
        padding:0.52rem 1rem; background:rgba(45,27,82,0.5); border:1px solid rgba(139,92,246,0.38);
        border-radius:25px; color:var(--lavender); font-family:var(--font-body); font-size:0.8rem; font-weight:500;
        cursor:pointer; transition:all 0.3s; white-space:nowrap;
    }
    .favorites-toggle svg { width:15px; height:15px; flex-shrink:0; }
    .favorites-toggle:hover { background:rgba(139,92,246,0.25); border-color:var(--amethyst); }
    .favorites-toggle.active { background:linear-gradient(135deg,rgba(139,92,246,0.4),rgba(109,40,217,0.32)); border-color:var(--amethyst); color:var(--petal-white); box-shadow:0 0 12px var(--glow-soft); }
    .favorites-toggle.active svg { fill:var(--wisteria); }

    .random-btn {
        display:inline-flex; align-items:center; gap:0.4rem;
        padding:0.52rem 1rem; background:rgba(45,27,82,0.5); border:1px solid rgba(139,92,246,0.38);
        border-radius:25px; color:var(--lavender); font-family:var(--font-body); font-size:0.8rem; font-weight:500;
        cursor:pointer; transition:all 0.3s; white-space:nowrap;
    }
    .random-btn svg { width:15px; height:15px; flex-shrink:0; }
    .random-btn:hover { background:rgba(139,92,246,0.25); border-color:var(--amethyst); color:var(--petal-white); }

    .view-controls { display:flex; align-items:center; gap:0.75rem; margin-bottom:1.4rem; justify-content:flex-end; }
    .view-toggle { display:flex; gap:0.3rem; background:rgba(28,16,48,0.75); border-radius:10px; padding:0.28rem; }
    .view-btn { width:33px; height:33px; border-radius:7px; background:transparent; border:none; cursor:pointer; color:rgba(196,181,253,0.45); transition:all 0.25s; display:flex; align-items:center; justify-content:center; }
    .view-btn svg { width:17px; height:17px; }
    .view-btn:hover { color:var(--lavender); background:rgba(139,92,246,0.2); }
    .view-btn.active { background:linear-gradient(135deg,var(--royal-purple),var(--amethyst)); color:var(--snow); }
    .results-count { font-size:0.78rem; color:var(--wisteria); font-family:var(--font-accent); letter-spacing:0.08em; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       GRID
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .audios-grid { display:grid; grid-template-columns:1fr; gap:1.4rem; }
    .audios-grid.view-2 { grid-template-columns:repeat(2,1fr); }
    .audios-grid.view-3 { grid-template-columns:repeat(3,1fr); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       AUDIO CARD
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .audio-card {
        background:linear-gradient(145deg,rgba(29,16,51,0.88),rgba(18,13,31,0.94));
        border:1px solid rgba(139,92,246,0.18); border-radius:18px; overflow:hidden;
        transition:all 0.32s ease; position:relative; box-shadow:0 6px 25px rgba(0,0,0,0.35);
        animation:cardIn 0.4s ease both;
    }
    @keyframes cardIn { from{opacity:0;transform:translateY(16px)} to{opacity:1;transform:translateY(0)} }
    .audio-card:hover { transform:translateY(-5px); border-color:rgba(167,139,250,0.4); box-shadow:0 18px 55px rgba(74,31,168,0.3),0 0 0 1px rgba(196,181,253,0.07); }
    .audio-card::before { content:''; position:absolute; top:0;left:0;right:0; height:3px; background:linear-gradient(90deg,var(--deep-violet),var(--amethyst),var(--lavender)); opacity:0; transition:opacity 0.32s; }
    .audio-card:hover::before { opacity:1; }

    .card-header { display:flex; align-items:center; justify-content:space-between; padding:1.2rem 1.4rem 0; }

    /* Type badges */
    .type-badge { display:inline-flex; align-items:center; gap:0.35rem; padding:0.26rem 0.82rem; border-radius:20px; font-size:0.66rem; font-weight:700; letter-spacing:0.1em; text-transform:uppercase; font-family:var(--font-accent); }
    .type-fsub      { background:rgba(139,92,246,0.2);   border:1px solid rgba(139,92,246,0.4);   color:#c4b5fd; }
    .type-fdom      { background:rgba(109,40,217,0.25);  border:1px solid rgba(109,40,217,0.5);   color:#a78bfa; }
    .type-fswitch   { background:rgba(74,31,168,0.25);   border:1px solid rgba(167,139,250,0.4);  color:#ddd6fe; }
    .type-yandere   { background:rgba(56,16,90,0.35);    border:1px solid rgba(192,90,246,0.45);  color:#e9d5ff; }
    .type-sfw       { background:rgba(20,60,30,0.35);    border:1px solid rgba(74,222,128,0.35);  color:#86efac; }
    .type-ramblefap { background:rgba(90,28,80,0.3);     border:1px solid rgba(236,72,153,0.35);  color:#f9a8d4; }
    .type-karaoke   { background:rgba(28,38,90,0.3);     border:1px solid rgba(96,165,250,0.35);  color:#93c5fd; }
    .type-unknown   { background:rgba(40,40,40,0.4);     border:1px solid rgba(150,150,150,0.3);  color:#9ca3af; }

    /* Favourite button */
    .card-favorite-btn { width:32px; height:32px; border-radius:50%; background:rgba(45,27,82,0.6); border:1px solid rgba(139,92,246,0.3); cursor:pointer; display:flex; align-items:center; justify-content:center; transition:all 0.25s; color:var(--lavender); flex-shrink:0; }
    .card-favorite-btn svg { width:16px; height:16px; }
    .card-favorite-btn:hover { background:rgba(139,92,246,0.3); border-color:var(--amethyst); }
    .card-favorite-btn.favorited { color:var(--wisteria); background:rgba(139,92,246,0.25); border-color:var(--wisteria); }
    .card-favorite-btn.favorited svg { fill:var(--wisteria); }

    /* Card body */
    .card-content { padding:1rem 1.4rem 1.4rem; }
    .card-title { font-family:var(--font-display); font-size:0.98rem; font-weight:700; color:var(--petal-white); margin-bottom:0.8rem; line-height:1.45; }

    /* Tags */
    .card-tags { display:flex; flex-wrap:wrap; gap:0.3rem; margin-bottom:0.85rem; }
    .tag { padding:0.18rem 0.6rem; border-radius:12px; font-size:0.67rem; letter-spacing:0.04em; color:var(--wisteria); background:rgba(74,31,168,0.2); border:1px solid rgba(139,92,246,0.2); cursor:pointer; transition:all 0.2s; }
    .tag:hover { background:rgba(139,92,246,0.35); color:var(--petal-white); border-color:var(--amethyst); }
    .tag.hidden { display:none; }
    .tag-expand-btn { padding:0.18rem 0.6rem; border-radius:12px; font-size:0.67rem; letter-spacing:0.04em; color:var(--amethyst); background:transparent; border:1px solid rgba(139,92,246,0.28); cursor:pointer; transition:all 0.2s; font-family:var(--font-body); }
    .tag-expand-btn:hover { background:rgba(139,92,246,0.2); color:var(--petal-white); }

    /* Synopsis */
    .card-synopsis { font-size:0.84rem; line-height:1.75; color:var(--lavender); margin-bottom:0.9rem; }

    /* Meta */
    .card-meta { display:flex; align-items:center; gap:1rem; margin-bottom:0.8rem; flex-wrap:wrap; }
    .meta-item { display:flex; align-items:center; gap:0.3rem; font-size:0.73rem; color:var(--amethyst); font-family:var(--font-accent); letter-spacing:0.05em; }
    .meta-item svg { width:12px; height:12px; flex-shrink:0; }

    /* Credits */
    .card-credits { display:flex; flex-wrap:wrap; gap:0.5rem; margin-bottom:0.9rem; }
    .credit-item { font-size:0.72rem; color:rgba(196,181,253,0.6); font-family:var(--font-accent); }
    .credit-item a { color:var(--wisteria); text-decoration:none; border-bottom:1px solid rgba(167,139,250,0.3); transition:all 0.2s; }
    .credit-item a:hover { color:var(--petal-white); border-color:var(--lavender); }

    /* Divider */
    .card-divider { border:none; border-top:1px solid rgba(139,92,246,0.1); margin:0.85rem 0; }

    /* Buttons */
    .card-buttons { display:flex; gap:0.55rem; flex-wrap:wrap; }
    .card-link { display:inline-flex; align-items:center; gap:0.38rem; padding:0.52rem 1rem; border-radius:25px; font-size:0.76rem; font-weight:600; letter-spacing:0.05em; cursor:pointer; transition:all 0.25s; text-decoration:none; font-family:var(--font-body); border:none; }
    .card-link svg { width:14px; height:14px; flex-shrink:0; }
    .card-link-primary { background:linear-gradient(135deg,var(--royal-purple),var(--amethyst)); color:var(--snow); box-shadow:0 3px 14px rgba(109,40,217,0.35); }
    .card-link-primary:hover { transform:translateY(-2px); box-shadow:0 6px 24px rgba(109,40,217,0.55); }
    .card-link-secondary { background:rgba(74,31,168,0.2); color:var(--lavender); border:1px solid rgba(139,92,246,0.32); }
    .card-link-secondary:hover { background:rgba(139,92,246,0.3); color:var(--petal-white); border-color:var(--amethyst); }
    .card-link-disabled { background:rgba(28,16,48,0.5); color:rgba(196,181,253,0.32); border:1px solid rgba(139,92,246,0.13); cursor:not-allowed; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       STATES
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .loading-state,.error-state,.empty-state { grid-column:1/-1; text-align:center; padding:5rem 2rem; display:flex; flex-direction:column; align-items:center; gap:1.2rem; }
    .loading-spinner { width:46px; height:46px; border-radius:50%; border:3px solid rgba(139,92,246,0.2); border-top-color:var(--amethyst); animation:spin 0.9s linear infinite; }
    @keyframes spin { to{transform:rotate(360deg)} }
    .loading-state p,.empty-state p { color:var(--wisteria); font-size:0.93rem; }
    .error-icon,.empty-icon { font-size:2.5rem; }
    .error-title,.empty-title { font-family:var(--font-display); color:var(--petal-white); font-size:1.25rem; }
    .error-state p { color:var(--lavender); font-size:0.88rem; }
    .retry-btn { padding:0.68rem 2rem; border-radius:30px; background:linear-gradient(135deg,var(--royal-purple),var(--amethyst)); color:var(--snow); border:none; cursor:pointer; font-family:var(--font-body); font-size:0.86rem; font-weight:600; transition:all 0.3s; box-shadow:0 4px 18px var(--glow-deep); }
    .retry-btn:hover { transform:translateY(-2px); box-shadow:0 8px 28px var(--glow-deep); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ACCESSIBILITY PANEL
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .a11y-overlay { position:fixed; inset:0; background:rgba(10,7,18,0.6); z-index:4000; opacity:0; visibility:hidden; transition:all 0.3s; }
    .a11y-overlay.open { opacity:1; visibility:visible; }
    .a11y-panel { position:fixed; top:0; right:0; width:300px; height:100%; background:linear-gradient(180deg,rgba(45,27,82,0.98),rgba(18,13,31,0.99)); border-left:1px solid rgba(139,92,246,0.3); z-index:4001; padding:2rem 1.5rem; transform:translateX(100%); transition:transform 0.35s cubic-bezier(0.4,0,0.2,1); overflow-y:auto; }
    .a11y-panel.open { transform:translateX(0); }
    .a11y-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:2rem; }
    .a11y-title { font-family:var(--font-display); font-size:1.1rem; color:var(--petal-white); }
    .a11y-close { width:32px; height:32px; border-radius:50%; background:rgba(139,92,246,0.15); border:1px solid rgba(139,92,246,0.3); color:var(--lavender); cursor:pointer; font-size:1rem; display:flex; align-items:center; justify-content:center; transition:all 0.2s; }
    .a11y-close:hover { background:rgba(139,92,246,0.3); color:var(--snow); }
    .a11y-section { margin-bottom:2rem; }
    .a11y-section-title { font-family:var(--font-accent); font-size:0.67rem; letter-spacing:0.25em; text-transform:uppercase; color:var(--amethyst); margin-bottom:1rem; }
    .font-size-control { display:flex; align-items:center; gap:0.75rem; }
    .font-size-btn { width:36px; height:36px; border-radius:8px; background:rgba(74,31,168,0.3); border:1px solid rgba(139,92,246,0.35); color:var(--lavender); cursor:pointer; font-size:1.1rem; display:flex; align-items:center; justify-content:center; transition:all 0.2s; }
    .font-size-btn:hover { background:rgba(139,92,246,0.4); color:var(--snow); }
    .font-size-display { flex:1; text-align:center; font-size:0.9rem; color:var(--petal-white); background:rgba(28,16,48,0.6); border-radius:8px; padding:0.42rem; border:1px solid rgba(139,92,246,0.2); }
    .font-type-grid { display:grid; grid-template-columns:1fr 1fr; gap:0.5rem; }
    .font-type-btn { padding:0.55rem; border-radius:10px; background:rgba(45,27,82,0.5); border:1px solid rgba(139,92,246,0.22); color:var(--lavender); cursor:pointer; font-size:0.78rem; transition:all 0.2s; font-family:inherit; text-align:center; }
    .font-type-btn:hover { background:rgba(139,92,246,0.25); color:var(--petal-white); }
    .font-type-btn.active { background:linear-gradient(135deg,rgba(109,40,217,0.5),rgba(139,92,246,0.35)); border-color:var(--amethyst); color:var(--petal-white); }
    .a11y-reset { width:100%; padding:0.65rem; background:rgba(74,31,168,0.22); border:1px solid rgba(139,92,246,0.28); border-radius:12px; color:var(--lavender); cursor:pointer; font-family:var(--font-body); font-size:0.83rem; transition:all 0.2s; }
    .a11y-reset:hover { background:rgba(139,92,246,0.3); color:var(--petal-white); }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       FOOTER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    footer { border-top:1px solid rgba(139,92,246,0.1); padding:2rem; text-align:center; margin-top:3rem; }
    .footer-kana { font-family:var(--font-display); font-size:1.3rem; color:rgba(167,139,250,0.27); letter-spacing:0.3em; margin-bottom:0.6rem; }
    .footer-text { font-size:0.74rem; color:rgba(167,139,250,0.33); letter-spacing:0.1em; }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width:900px) {
        .main-container { flex-direction:column; padding:1.2rem; }
        .sidebar { width:100%; position:static; }
        .nav-list { flex-direction:row; flex-wrap:wrap; }
        .nav-item { flex-basis:auto; }
    }
    @media (max-width:600px) {
        header { padding:1rem 1.2rem; }
        .logo-title { font-size:1.1rem; }
        .audios-grid.view-2,.audios-grid.view-3 { grid-template-columns:1fr; }
        .a11y-panel { width:100%; }
    }
    </style>
</head>
<body>

<!-- â”€â”€ BACKGROUND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="geo-bg"></div>
<canvas class="geo-canvas" id="geoCanvas"></canvas>
<div class="sakura-container" id="sakuraContainer"></div>

<!-- â”€â”€ AGE GATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="age-overlay" id="ageOverlay">
    <div class="age-modal">
        <div class="age-kamon">ğŸŒ¸</div>
        <div class="age-subtitle">â€” Adults Only â€”</div>
        <h2>Purple-Juice-4073</h2>
        <div class="age-divider"></div>
        <p>This site contains <strong>explicit adult audio content</strong>.<br>
        You must be <strong>18 years or older</strong> to enter.<br>
        By proceeding you confirm you meet this requirement.</p>
        <div class="age-buttons">
            <button class="btn-proceed" onclick="verifyAge()">âœ¦ Enter âœ¦</button>
            <button class="btn-leave" onclick="window.location.href='https://www.google.com'">Leave</button>
        </div>
    </div>
</div>

<!-- â”€â”€ ACCESSIBILITY PANEL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="a11y-overlay" id="a11yOverlay"></div>
<aside class="a11y-panel" id="a11yPanel">
    <div class="a11y-header">
        <span class="a11y-title">Accessibility</span>
        <button class="a11y-close" id="a11yClose">âœ•</button>
    </div>
    <div class="a11y-section">
        <div class="a11y-section-title">Font Size</div>
        <div class="font-size-control">
            <button class="font-size-btn" id="fontDecrease">âˆ’</button>
            <div class="font-size-display"><span id="fontSizeDisplay">16</span>px</div>
            <button class="font-size-btn" id="fontIncrease">+</button>
        </div>
    </div>
    <div class="a11y-section">
        <div class="a11y-section-title">Font Style</div>
        <div class="font-type-grid">
            <button class="font-type-btn active" data-font="default">Default</button>
            <button class="font-type-btn" data-font="arial">Arial</button>
            <button class="font-type-btn" data-font="times">Times</button>
            <button class="font-type-btn" data-font="atkinson">Atkinson</button>
            <button class="font-type-btn" data-font="dyslexic" style="grid-column:span 2">OpenDyslexic</button>
        </div>
    </div>
    <button class="a11y-reset" id="a11yReset">â†º Reset to Defaults</button>
</aside>

<!-- â”€â”€ HEADER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<header>
    <div class="header-content">
        <a class="logo" href="#">
            <div class="logo-icon">ğŸŒ¸</div>
            <div class="logo-text">
                <span class="logo-title">Purple-Juice-4073</span>
                <span class="logo-sub">NSFW Voice Artist Â· Audio Masterlist</span>
            </div>
        </a>

        <div class="search-container">
            <span class="search-icon">ğŸ”</span>
            <input type="text" class="search-input" id="searchInput"
                   placeholder="Search titles, tags, synopsesâ€¦" autocomplete="off">
        </div>

        <div class="header-right">
            <div class="header-socials">
                <a class="social-icon" href="#" title="Reddit">ğŸŸ </a>
                <a class="social-icon" href="#" title="Twitter / X">ğŸ¦</a>
                <a class="social-icon" href="#" title="Discord">ğŸ’¬</a>
                <a class="social-icon" href="#" title="Ko-fi">â˜•</a>
            </div>
            <button class="accessibility-btn" id="a11yBtn" title="Accessibility settings">Aa</button>
        </div>
    </div>
</header>

<!-- â”€â”€ MAIN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<div class="main-container">

    <!-- Sidebar nav -->
    <aside class="sidebar">
        <nav class="nav-panel">
            <div class="nav-title">å£°ã®ã‚¸ãƒ£ãƒ³ãƒ« Â· Filter by Type</div>
            <ul class="nav-list" id="navList">
                <li class="nav-item active" data-type="all">
                    <span class="nav-icon">âœ¨</span><span>All Audios</span>
                    <span class="nav-count" id="count-all">0</span>
                </li>
                <li class="nav-item" data-type="fsub">
                    <span class="nav-icon">ğŸ’œ</span><span>FSub</span>
                    <span class="nav-count" id="count-fsub">0</span>
                </li>
                <li class="nav-item" data-type="fdom">
                    <span class="nav-icon">ğŸ‘‘</span><span>FDom</span>
                    <span class="nav-count" id="count-fdom">0</span>
                </li>
                <li class="nav-item" data-type="fswitch">
                    <span class="nav-icon">ğŸ”€</span><span>FSwitch</span>
                    <span class="nav-count" id="count-fswitch">0</span>
                </li>
                <li class="nav-item" data-type="yandere">
                    <span class="nav-icon">ğŸŒ™</span><span>Yandere</span>
                    <span class="nav-count" id="count-yandere">0</span>
                </li>
                <li class="nav-item" data-type="sfw">
                    <span class="nav-icon">ğŸŒ¸</span><span>SFW</span>
                    <span class="nav-count" id="count-sfw">0</span>
                </li>
                <li class="nav-item" data-type="karaoke">
                    <span class="nav-icon">ğŸ¤</span><span>Karaoke</span>
                    <span class="nav-count" id="count-karaoke">0</span>
                </li>
                <li class="nav-item" data-type="ramblefap">
                    <span class="nav-icon">ğŸ§</span><span>Ramblefap</span>
                    <span class="nav-count" id="count-ramblefap">0</span>
                </li>
                <li class="nav-item" data-type="unknown">
                    <span class="nav-icon">ğŸ”®</span><span>Uncategorised</span>
                    <span class="nav-count" id="count-unknown">0</span>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Audios section -->
    <section class="audios-section">
        <div class="section-header">
            <h2 class="section-title" id="sectionTitle">All Audios</h2>
            <div class="section-controls">
                <div class="sort-control">
                    <label for="sortSelect">Sort:</label>
                    <select id="sortSelect" class="sort-select">
                        <option value="newest">Newest</option>
                        <option value="oldest">Oldest</option>
                        <option value="alphabetical">Aâ€“Z</option>
                    </select>
                </div>
                <button class="favorites-toggle" id="favoritesToggle" title="Show favourites only">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                    </svg>
                    Favourites
                </button>
                <button class="random-btn" id="randomBtn" title="Open a random audio">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4h5l2 4-3.5 2 2 3.5H14m2-9.5l4 4-4 4m0-8v8"/>
                    </svg>
                    Surprise Me!
                </button>
            </div>
        </div>

        <div class="view-controls">
            <div class="view-toggle" id="viewToggle">
                <button class="view-btn active" data-view="1" title="Single column">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><rect x="3" y="4" width="18" height="16" rx="2"/></svg>
                </button>
                <button class="view-btn" data-view="2" title="Two columns">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><rect x="3" y="4" width="8" height="16" rx="1"/><rect x="13" y="4" width="8" height="16" rx="1"/></svg>
                </button>
                <button class="view-btn" data-view="3" title="Three columns">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><rect x="2" y="4" width="5.5" height="16" rx="1"/><rect x="9.25" y="4" width="5.5" height="16" rx="1"/><rect x="16.5" y="4" width="5.5" height="16" rx="1"/></svg>
                </button>
            </div>
            <span class="results-count" id="resultsCount">Loadingâ€¦</span>
        </div>

        <div class="audios-grid view-1" id="audiosGrid">
            <!-- injected by JS -->
        </div>
    </section>
</div>

<!-- â”€â”€ FOOTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ -->
<footer>
    <div class="footer-kana">ç´« Â· å£° Â· æ„› Â· å¤¢ Â· æ˜Ÿ Â· èŠ±</div>
    <p class="footer-text">Â© 2026 Purple-Juice-4073 Â· All Rights Reserved Â· 18+ Only Â· MDNI</p>
</footer>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JAVASCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
'use strict';

/* â”€â”€ CONFIG â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const CONFIG = {
    dataPath: './audios.json',
    typeLabels: {
        all:        'All Audios',
        fsub:       'FSub',
        fdom:       'FDom',
        fswitch:    'FSwitch',
        yandere:    'Yandere',
        sfw:        'SFW',
        karaoke:    'Karaoke',
        ramblefap:  'Ramblefap',
        unknown:    'Uncategorised',
    },
    typeEmoji: {
        fsub:'ğŸ’œ', fdom:'ğŸ‘‘', fswitch:'ğŸ”€', yandere:'ğŸŒ™',
        sfw:'ğŸŒ¸', ramblefap:'ğŸ§', karaoke:'ğŸ¤', unknown:'ğŸ”®',
    }
};

/* â”€â”€ STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const state = {
    audios:      [],
    currentType: 'all',
    searchQuery: '',
    currentView: localStorage.getItem('pj_view') || '1',
    sortOrder:   localStorage.getItem('pj_sort') || 'newest',
    showFavOnly: false,
    favorites:   JSON.parse(localStorage.getItem('pj_favs') || '[]'),
};

/* â”€â”€ DOM REFS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const $ = id => document.getElementById(id);
const dom = {
    grid:      $('audiosGrid'),
    search:    $('searchInput'),
    navItems:  document.querySelectorAll('.nav-item'),
    secTitle:  $('sectionTitle'),
    resCnt:    $('resultsCount'),
    viewTgl:   $('viewToggle'),
    viewBtns:  document.querySelectorAll('.view-btn'),
    sortSel:   $('sortSelect'),
    favBtn:    $('favoritesToggle'),
    randBtn:   $('randomBtn'),
};

/* â”€â”€ HELPERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function esc(s) {
    const d = document.createElement('div');
    d.textContent = String(s);
    return d.innerHTML;
}
function debounce(fn, ms) {
    let t; return (...a) => { clearTimeout(t); t = setTimeout(() => fn(...a), ms); };
}
function resolveType(audio) { return audio.type || 'unknown'; }

/* â”€â”€ FAVOURITES â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function isFav(id)   { return state.favorites.includes(id); }
function saveFavs()  { localStorage.setItem('pj_favs', JSON.stringify(state.favorites)); }
function toggleFav(id) {
    const i = state.favorites.indexOf(id);
    if (i > -1) state.favorites.splice(i, 1); else state.favorites.push(id);
    saveFavs(); renderAudios();
}

/* â”€â”€ SORT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function doSort(list) {
    const a = [...list];
    if (state.sortOrder === 'newest')      return a.sort((a,b) => new Date(b.date||0) - new Date(a.date||0));
    if (state.sortOrder === 'oldest')      return a.sort((a,b) => new Date(a.date||0) - new Date(b.date||0));
    if (state.sortOrder === 'alphabetical') return a.sort((a,b) => (a.title||'').localeCompare(b.title||''));
    return a;
}

/* â”€â”€ FILTER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function doFilter() {
    let list = [...state.audios];
    if (state.currentType !== 'all')
        list = list.filter(a => resolveType(a) === state.currentType);
    if (state.showFavOnly)
        list = list.filter(a => isFav(a.id));
    if (state.searchQuery.trim()) {
        const q = state.searchQuery.toLowerCase().trim();
        list = list.filter(a =>
            (a.title    || '').toLowerCase().includes(q) ||
            (a.synopsis || '').toLowerCase().includes(q) ||
            (a.tags     || []).some(t => t.toLowerCase().includes(q)) ||
            (a.writer?.name || '').toLowerCase().includes(q)
        );
    }
    return doSort(list);
}

/* â”€â”€ COUNTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function updateCounts() {
    $('count-all').textContent = state.audios.length;
    ['fsub','fdom','fswitch','yandere','sfw','karaoke','ramblefap','unknown'].forEach(t => {
        const el = $(`count-${t}`);
        if (el) el.textContent = state.audios.filter(a => resolveType(a) === t).length;
    });
}

/* â”€â”€ RANDOM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function goRandom() {
    const pool = state.audios.filter(a => a.audioLink);
    if (!pool.length) return;
    const pick = pool[Math.floor(Math.random() * pool.length)];
    window.open(pick.audioLink, '_blank', 'noopener noreferrer');
}

/* â”€â”€ LOAD DATA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
async function loadAudios() {
    dom.grid.innerHTML = `<div class="loading-state"><div class="loading-spinner"></div><p>Loading audio collectionâ€¦</p></div>`;
    try {
        const resp = await fetch(CONFIG.dataPath);
        if (!resp.ok) throw new Error(`HTTP ${resp.status}`);
        const data = await resp.json();
        state.audios = data.audios || [];
        updateCounts();
        renderAudios();
    } catch(e) {
        dom.grid.innerHTML = `
            <div class="error-state">
                <div class="error-icon">âš ï¸</div>
                <h3 class="error-title">Failed to Load Audios</h3>
                <p>${esc(e.message)}</p>
                <button class="retry-btn" onclick="loadAudios()">Try Again</button>
            </div>`;
    }
}

/* â”€â”€ HTML BUILDERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function buildTags(tags) {
    const max = 5, total = tags.length;
    let html = tags.map((t,i) =>
        `<span class="tag${i>=max?' hidden':''}" onclick="event.stopPropagation();tagSearch('${esc(t).replace(/'/g,"&#39;")}')">${esc(t)}</span>`
    ).join('');
    if (total > max)
        html += `<button class="tag-expand-btn" onclick="event.stopPropagation();toggleTags(this)" data-expanded="false">+${total-max} more</button>`;
    return html;
}

function buildMeta(audio) {
    const parts = [];
    if (audio.duration)
        parts.push(`<span class="meta-item">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>${esc(audio.duration)}</span>`);
    if (audio.date) {
        const fd = new Date(audio.date).toLocaleDateString('en-GB',{day:'numeric',month:'short',year:'numeric'});
        parts.push(`<span class="meta-item">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
            </svg>${fd}</span>`);
    }
    return parts.length ? `<div class="card-meta">${parts.join('')}</div>` : '';
}

function buildCredits(audio) {
    const parts = [];
    if (audio.writer?.name) {
        const name = audio.writer.link
            ? `<a href="${esc(audio.writer.link)}" target="_blank" rel="noopener" onclick="event.stopPropagation()">${esc(audio.writer.name)}</a>`
            : esc(audio.writer.name);
        parts.push(`<span class="credit-item">âœï¸ Script by ${name}</span>`);
    }
    if (audio.editor?.name) {
        const name = audio.editor.link
            ? `<a href="${esc(audio.editor.link)}" target="_blank" rel="noopener" onclick="event.stopPropagation()">${esc(audio.editor.name)}</a>`
            : esc(audio.editor.name);
        parts.push(`<span class="credit-item">âœ‚ï¸ Edited by ${name}</span>`);
    }
    if (audio.collabs?.length) {
        const names = audio.collabs.map(c =>
            c.link ? `<a href="${esc(c.link)}" target="_blank" rel="noopener" onclick="event.stopPropagation()">${esc(c.name)}</a>` : esc(c.name)
        ).join(', ');
        parts.push(`<span class="credit-item">ğŸ™ï¸ Collab with ${names}</span>`);
    }
    return parts.length ? `<div class="card-credits">${parts.join('')}</div>` : '';
}

function buildButtons(audio) {
    let html = '';
    if (audio.audioLink)
        html += `<a href="${esc(audio.audioLink)}" class="card-link card-link-primary" target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation()">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>Listen Now</a>`;
    if (audio.scriptLink)
        html += `<a href="${esc(audio.scriptLink)}" class="card-link card-link-secondary" target="_blank" rel="noopener noreferrer" onclick="event.stopPropagation()">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
            </svg>View Script</a>`;
    if (!audio.audioLink && !audio.scriptLink)
        html += `<span class="card-link card-link-disabled">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>Coming Soon</span>`;
    return html;
}

function buildTypeBadge(audio) {
    const t = resolveType(audio);
    const label = CONFIG.typeLabels[t] || 'Other';
    const emoji = CONFIG.typeEmoji[t]  || 'ğŸ”®';
    return `<span class="type-badge type-${t}">${emoji} ${label}</span>`;
}

/* â”€â”€ CREATE CARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function createCard(audio, i) {
    const fav = isFav(audio.id);
    return `
    <article class="audio-card" style="animation-delay:${i*0.04}s">
        <div class="card-header">
            ${buildTypeBadge(audio)}
            <button class="card-favorite-btn${fav?' favorited':''}"
                onclick="event.stopPropagation();toggleFav(${audio.id})"
                title="${fav?'Remove from favourites':'Add to favourites'}">
                <svg xmlns="http://www.w3.org/2000/svg" fill="${fav?'var(--wisteria)':'none'}" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                </svg>
            </button>
        </div>
        <div class="card-content">
            <h3 class="card-title">${esc(audio.title)}</h3>
            <div class="card-tags">${buildTags(audio.tags||[])}</div>
            ${audio.synopsis ? `<p class="card-synopsis">${esc(audio.synopsis)}</p>` : ''}
            ${buildMeta(audio)}
            ${buildCredits(audio)}
            <hr class="card-divider">
            <div class="card-buttons">${buildButtons(audio)}</div>
        </div>
    </article>`;
}

/* â”€â”€ RENDER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function renderAudios() {
    const filtered = doFilter();
    if (!filtered.length) {
        dom.grid.innerHTML = `
            <div class="empty-state">
                <div class="empty-icon">ğŸŒ¸</div>
                <h3 class="empty-title">No Audios Found</h3>
                <p>Try adjusting your search or selecting a different type.</p>
            </div>`;
    } else {
        dom.grid.innerHTML = filtered.map((a,i) => createCard(a,i)).join('');
    }
    const n = filtered.length;
    dom.resCnt.textContent = `Showing ${n} ${n===1?'audio':'audios'}`;
}

/* â”€â”€ TYPE SWITCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function setType(type) {
    state.currentType = type;
    dom.navItems.forEach(item => item.classList.toggle('active', item.dataset.type === type));
    dom.secTitle.textContent = CONFIG.typeLabels[type] || 'All Audios';
    renderAudios();
}

/* â”€â”€ VIEW â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function setView(v) {
    state.currentView = v;
    localStorage.setItem('pj_view', v);
    dom.viewBtns.forEach(b => b.classList.toggle('active', b.dataset.view === v));
    dom.grid.className = `audios-grid view-${v}`;
}

/* â”€â”€ TAG SEARCH â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function tagSearch(tag) {
    dom.search.value = tag;
    state.searchQuery = tag;
    renderAudios();
}

/* â”€â”€ TOGGLE TAGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function toggleTags(btn) {
    const container = btn.parentElement;
    const isExpanded = btn.dataset.expanded === 'true';
    if (isExpanded) {
        container.querySelectorAll('.tag').forEach((t,i) => { if(i>=5) t.classList.add('hidden'); });
        btn.textContent = `+${container.querySelectorAll('.tag').length - 5} more`;
        btn.dataset.expanded = 'false';
    } else {
        container.querySelectorAll('.tag.hidden').forEach(t => t.classList.remove('hidden'));
        btn.textContent = 'Show less';
        btn.dataset.expanded = 'true';
    }
}

/* â”€â”€ AGE GATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function verifyAge() {
    sessionStorage.setItem('pj_verified','1');
    $('ageOverlay').classList.add('hidden');
}
if (sessionStorage.getItem('pj_verified')==='1') $('ageOverlay').classList.add('hidden');

/* â”€â”€ ACCESSIBILITY â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
const a11yState = {
    fontSize: parseInt(localStorage.getItem('pj_fontSize'))||16,
    fontType: localStorage.getItem('pj_fontType')||'default',
};
const fontSizes = [12,14,16,18,20,22,24,28,32];

function applyFontSize(s) {
    a11yState.fontSize = s;
    localStorage.setItem('pj_fontSize', s);
    $('fontSizeDisplay').textContent = s;
    document.documentElement.style.fontSize = s+'px';
}
function applyFontType(t) {
    a11yState.fontType = t;
    localStorage.setItem('pj_fontType', t);
    document.body.classList.remove('font-arial','font-times','font-atkinson','font-dyslexic');
    if (t !== 'default') document.body.classList.add('font-'+t);
    document.querySelectorAll('.font-type-btn').forEach(b => b.classList.toggle('active', b.dataset.font===t));
}

function initA11y() {
    const overlay = $('a11yOverlay'), panel = $('a11yPanel');
    const open  = () => { panel.classList.add('open');    overlay.classList.add('open');    };
    const close = () => { panel.classList.remove('open'); overlay.classList.remove('open'); };
    $('a11yBtn').addEventListener('click', open);
    $('a11yClose').addEventListener('click', close);
    overlay.addEventListener('click', close);
    $('fontDecrease').addEventListener('click', () => {
        const i = fontSizes.indexOf(a11yState.fontSize);
        if (i>0) applyFontSize(fontSizes[i-1]);
    });
    $('fontIncrease').addEventListener('click', () => {
        const i = fontSizes.indexOf(a11yState.fontSize);
        if (i<fontSizes.length-1) applyFontSize(fontSizes[i+1]);
    });
    document.querySelectorAll('.font-type-btn').forEach(b => b.addEventListener('click', () => applyFontType(b.dataset.font)));
    $('a11yReset').addEventListener('click', () => { applyFontSize(16); applyFontType('default'); });
    applyFontSize(a11yState.fontSize);
    applyFontType(a11yState.fontType);
}

/* â”€â”€ GEO BACKGROUND â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function drawGeo() {
    const c = $('geoCanvas'), ctx = c.getContext('2d');
    c.width = window.innerWidth; c.height = window.innerHeight;
    const cols = ['rgba(74,31,168,0.08)','rgba(109,40,217,0.07)','rgba(139,92,246,0.05)','rgba(167,139,250,0.04)','rgba(45,27,82,0.1)','rgba(196,181,253,0.03)'];
    for (let i=0;i<45;i++) {
        const x=Math.random()*c.width, y=Math.random()*c.height, s=80+Math.random()*220;
        ctx.beginPath(); ctx.moveTo(x,y); ctx.lineTo(x+s,y+s*0.6); ctx.lineTo(x-s*0.4,y+s); ctx.closePath();
        ctx.fillStyle = cols[Math.floor(Math.random()*cols.length)];
        ctx.fill();
    }
}
window.addEventListener('resize', drawGeo);

/* â”€â”€ SAKURA â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function spawnPetals() {
    const container = $('sakuraContainer');
    const cols = ['rgba(196,181,253,0.5)','rgba(167,139,250,0.4)','rgba(221,214,254,0.45)','rgba(245,243,255,0.35)'];
    for (let i=0;i<16;i++) {
        const p = document.createElement('div');
        p.className = 'petal';
        const sz = 7+Math.random()*9;
        p.style.cssText = `left:${Math.random()*100}%;width:${sz}px;height:${sz}px;background:${cols[Math.floor(Math.random()*cols.length)]};animation-duration:${9+Math.random()*13}s;animation-delay:${Math.random()*12}s;border-radius:${Math.random()>.5?'50% 0 50% 0':'0 50% 0 50%'};`;
        container.appendChild(p);
    }
}

/* â”€â”€ EVENTS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function initEvents() {
    dom.navItems.forEach(item => item.addEventListener('click', () => setType(item.dataset.type)));
    const debouncedSearch = debounce(v => { state.searchQuery=v; renderAudios(); }, 200);
    dom.search.addEventListener('input', e => debouncedSearch(e.target.value));
    dom.search.addEventListener('keydown', e => { if(e.key==='Escape'){dom.search.value='';state.searchQuery='';renderAudios();} });
    dom.sortSel.value = state.sortOrder;
    dom.sortSel.addEventListener('change', e => { state.sortOrder=e.target.value; localStorage.setItem('pj_sort',state.sortOrder); renderAudios(); });
    dom.favBtn.addEventListener('click', () => { state.showFavOnly=!state.showFavOnly; dom.favBtn.classList.toggle('active',state.showFavOnly); renderAudios(); });
    dom.randBtn.addEventListener('click', goRandom);
    dom.viewTgl.addEventListener('click', e => { const b=e.target.closest('.view-btn'); if(b) setView(b.dataset.view); });
}

/* â”€â”€ INIT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
function init() {
    drawGeo();
    spawnPetals();
    setView(state.currentView);
    initEvents();
    initA11y();
    loadAudios();
}

document.readyState === 'loading'
    ? document.addEventListener('DOMContentLoaded', init)
    : init();
</script>
</body>
</html>
